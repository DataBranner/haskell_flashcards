%!TEX TS-program = xelatex
%!TEX encoding = UTF-8 Unicode

% Version of 20161029. Derived from file ``Math flashcard template 20111118.tex''
% Packages loaded may be more numerous than needed. Pruning pending.

% Uses a custom command \fl{question}{answer} to generate flashcards. 
% Intended for printing on double-sided paper.

\documentclass[avery5371,grid]{flashcards}
\usepackage{geometry}             % See geometry.pdf to learn the layout options.
\geometry{letterpaper}            % ... or a4paper or a5paper or ... 
\usepackage{mathtools}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{mathspec}			% replaces amssymb; do not use unicode-math
\usepackage{fontspec}
\usepackage{mdwtab}				% allows the use of footnotes in tables
\usepackage[normalem]{ulem}		% underlining (with ``normal emphasis'' retained)

\usepackage{datetime}		% allows \currenttime

\defaultfontfeatures{Mapping=tex-text}
\setromanfont[Scale=1,Mapping=tex-text]{TeX Gyre Termes}
\setsansfont[Scale=MatchLowercase,Mapping=tex-text]{TeX Gyre Heros Cn}
\usepackage[noendash,italic]{mathastext}	% propagates document text font to math mode; use option italic to get italic text in math mode

\setlength{\parindent}{0cm}	% no paragraph indent
\setlength{\doublerulesep}{\arrayrulewidth}

\cardfrontstyle{headings}
\cardfrontfoot{(Haskell operator definitions) \today}
\cardfrontfootstyle[\footnotesize]{right}
\cardbackstyle{empty}

%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%

%normal card: \fl
\newcommand{\fl}[2]{\begin{flashcard}{#1}{\begin{array}{lcl}#2\end{array}}\end{flashcard}}

\newcommand\gr[2]{\scalebox{#2}{\includegraphics{#1}}}

\newcommand\doubleplus{+\kern-1.1ex+\kern0.5ex}

%\title{flashcards}
%\author{David Prager Branner}

\DeclareGraphicsRule{.tif}{png}{.png}{`convert #1 `dirname #1`/`basename #1 .tif`.png}

\begin{document}

\fl{(*)}{
(*)			&::	&	Int \rightarrow Int \rightarrow Int\\
m~*~0		&=	&	0\\
m~*~(n+1)	&=	&	m + (m*n)
}

\fl{\(({}\doubleplus{})\)}{
({}\doubleplus{})					&::	&	[a] \rightarrow [a] \rightarrow [a]\\
\lbrack\rbrack \doubleplus ys		&=	&	ys\\
(x:xs)\doubleplus ys				&=	&	x:(xs \doubleplus ys)
}

\fl{append head}{
:\\
a.k.a.~\text{``cons''}}

\fl{index}{!!}

%\fl{qqq}{
%qqq		&::	&	qqq
%qqq		&=	&	qqq
%}

\end{document}